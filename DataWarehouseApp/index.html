<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Warehouse Application</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="app.css">
  <link rel="stylesheet" type="text/css" href="bootstrap-3.2.0-dist\css\bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="bootstrap-3.2.0-dist\css\bootstrap-theme.css">
  <script src="angular.js"></script>
  <script src="angular-route.js"></script>
  <script src="app.js"></script>
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <script src="http://www.wingo.com/bootstrap/js/bootstrap.js" type="text/javascript"></script>
  <script type="text/javascript" src="http://fast.fonts.net/jsapi/0c2de3c3-ecd3-45a0-9f37-d4d769636858.js"></script>
</head>
<body ng-controller="simpleCtrl">

    <div class="page-header">
        <h1 class = "heading">Genomic Data Warehouse</h1>
    </div>

    <br/>
    
    <section ng-controller="TabController as tabPanel">
        <ul class="nav nav-pills">
            <li ng-class="{ active:tabPanel.isSet(1) }">
                <a href ng-click="tabPanel.setTab(1);invokeQuery1()">Query 1</a>
            </li>
            <li ng-class="{ active:tabPanel.isSet(2) }">
                  <a href ng-click="tabPanel.setTab(2);invokeQuery2()">Query 2</a>
            </li>
            <li ng-class="{ active:tabPanel.isSet(3) }">
                  <a href ng-click="tabPanel.setTab(3);invokeQuery3()">Query 3</a>
            </li>
            <li ng-class="{ active:tabPanel.isSet(4) }">
                  <a href ng-click="tabPanel.setTab(4);invokeQuery4()">Query 4</a>
            </li>
            <li ng-class="{ active:tabPanel.isSet(5) }">
                  <a href ng-click="tabPanel.setTab(5);invokeQuery5()">Query 5</a>
            </li>
            <li ng-class="{ active:tabPanel.isSet(6) }">
                  <a href ng-click="tabPanel.setTab(6);invokeQuery6()">Query 6</a>
            </li>            
            <li ng-class="{ active:tabPanel.isSet(7) }">
                  <a href ng-click="tabPanel.setTab(7);invokeQuery7()">Query 7</a>
            </li>            
            <li ng-class="{ active:tabPanel.isSet(8) }">
                  <a href ng-click="tabPanel.setTab(8);invokeQuery8()">Query 8</a>
            </li>
        </ul>
        
        <div id="veil" ng-show="isLoading"></div>
        <div id="feedLoading" ng-show="isLoading">Executing...</div>

        
        <div class="panel panel-default" ng-show="tabPanel.isSet(1)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Total Rows
                    <span class="label label-primary">{{resultSet.length}}</span>
                </h3>
            </div>

            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            <td>Count</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in resultSet">
                           <td>{{p.count}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="panel panel-default" ng-show="tabPanel.isSet(2)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Total Rows
                    <span class="label label-primary">{{resultSet.length}}</span>
                </h3>
            </div>

            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            <td>Drug Type</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in resultSet">
                           <td>{{p.type}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(3)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Total Rows
                    <span class="label label-primary">{{resultSet.length}}</span>
                </h3>
            </div>

            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            <td>Sample ID</td>
                            <td>Expression</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in resultSet">
                           <td>{{p.s_id}}</td>
                           <td>{{p.expression}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(4)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    T Statistics
                    <span class="label label-primary">{{resultSet.tstat}}</span>
                </h3>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(5)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    F Statistics
                    <span class="label label-primary">{{resultSet.fstat}}</span>
                </h3>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(6)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Average Correlation for ALL vs ALL
                    <span class="label label-primary">{{resultSet.avgcorrall}}</span>
                </h3>
                <h3>
                    Average Correlation for ALL vs AML
                    <span class="label label-primary">{{resultSet.avgcorrallaml}}</span>
                </h3>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(7)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Number of informative genes
                    <span class="label label-primary">{{resultSet.length}}</span>
                </h3>
            </div>

            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            <td>Informative genes</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in resultSet">
                           <td>{{p.infogene}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="panel panel-default" ng-show="tabPanel.isSet(8)" repeat-done="layoutDone()" ng-cloak>
            <div class="panel-heading">
                <h3>
                    Disease Classification from Informative Genes
                </h3>
            </div>

            <div class="panel-body">
                <table class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            <td>Patient ID</td>
                            <td>Disease</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                           <td>TEST1</td>
                           <td>{{resultSet.test1}}</td>
                        </tr>
                        <tr>
                           <td>TEST2</td>
                           <td>{{resultSet.test2}}</td>
                        </tr>
                        <tr>
                           <td>TEST3</td>
                           <td>{{resultSet.test3}}</td>
                        </tr>
                        <tr>
                           <td>TEST4</td>
                           <td>{{resultSet.test4}}</td>
                        </tr>
                        <tr>
                           <td>TEST5</td>
                           <td>ALL</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
    </section>    
    
</body>
</html>
